---
title: Client Adapter - Console
description: Describes a basic interaction surface with Nucleus personas, tailored for accelerated local development and providing a lightweight simulation environment for core adapter interactions.
version: 1.1
date: 2025-04-13
---

# Client Adapter: Console


## Overview

Describes a basic interaction surface with Nucleus personas, tailored for accelerated local development and providing a lightweight simulation environment for core adapter interactions. It serves as the Minimum Viable Product (MVP) client described in the main [Client Architecture document](../05_ARCHITECTURE_CLIENTS.md).

This adapter implements the common interfaces defined in [ARCHITECTURE_ADAPTER_INTERFACES.md](./ARCHITECTURE_ADAPTER_INTERFACES.md), with specific mappings detailed in [Console Adapter Interfaces](./Console/ARCHITECTURE_ADAPTERS_CONSOLE_INTERFACES.md).

## Auth

No specific authentication model is required for the basic console adapter. It runs under the local user's context.

## Generated Artifact Handling

The Console Adapter acts as a conduit to the Nucleus API, interacting with the local filesystem primarily for initiating uploads and handling generated outputs.

*   **Source Artifacts (Upload):** When using commands like `nucleus ingest --path <local_file_path>`, the Console Adapter reads the specified file from the user's local filesystem and sends its content to the Nucleus API for ingestion.
*   **Generated Outputs (Handling):** Outputs generated by personas (e.g., summaries, analysis results, visualizations) are received from the Nucleus API as part of query responses.
    *   **Terminal Display:** By default, textual outputs are displayed directly in the terminal.
    *   **Local File Persistence (Configurable):**
        *   The adapter **should** support saving generated artifacts to a configurable local directory (e.g., `./.nucleus/console_outputs/` relative to the working directory, which should be added to `.gitignore`).
        *   This behavior might be enabled via a configuration setting or a command-line flag (e.g., `--save-output`).
        *   This is crucial for non-textual artifacts (e.g., images, PDFs, HTML files) or for easily reviewing complex textual outputs.
        *   Files could be named using conventions like `{PersonaId}_{Timestamp}_{OutputName}.ext` or based on details from the API response.
    *   **Explicit Output Path:** Commands may still support an explicit `--output <file_path>` argument to override the default save location for a specific execution.
*   **No Backend Persistent Storage Management:** The Console Adapter itself does not manage persistent storage in the way the Teams adapter interacts with SharePoint's `.Nucleus` structure. It relies on the Nucleus backend for primary persistence (Cosmos DB) and the local filesystem for sourcing uploads and optionally saving generated outputs.

## Messaging

The console uses a simple linear sequence of inputs and outputs.

*   **Platform Representation:** A sequence of user inputs and application outputs.
*   **Nucleus `ArtifactMetadata` Mapping:**
    *   Each line of user input and each distinct block of Nucleus output can be treated as a separate artifact.
    *   `sourceSystemType`: Set to `Console`.
    *   `sourceIdentifier`: Generated based on a session ID and sequence number (e.g., `console://session-uuid/input-0`, `console://session-uuid/output-1`).
    *   `sourceUri`: Not applicable.
    *   `displayName`: First N characters of the input/output text.
    *   `sourceCreatedAt`: Timestamp of the input/output event.

## Conversations

While lacking the rich threading of platforms like Teams or Slack, the console adapter can **simulate basic conversation context** for development and testing purposes.

*   **Session Context:** Each run of the console application can be considered a session. Input/output sequences within a session can be linked.
*   **(Optional) Local State:** A simple local mechanism (e.g., session IDs maintained in memory, a lightweight SQLite database, or simple state files within the configured local directory) could be used to group interactions within a session or even across short-lived sessions, allowing simulation of `replyTo` or simple threading logic for testing Personas.
*   **Nucleus `ArtifactMetadata` Mapping:**
    *   `parentSourceIdentifier`: Could link to a conceptual "session artifact" or a previous turn within the session simulation.
    *   `replyToSourceIdentifier`, `threadSourceIdentifier`: Can be populated based on the simulated local state if implemented.

## Attachments

Standard console I/O does not have a native concept of attachments like other communication platforms.

*   **Handling:** File paths provided as input arguments are the primary way to reference external files.

## Rich Presentations and Embedded Hypermedia

Presentation capabilities are limited to standard console text output. The adapter **cannot render** rich HTML, interactive visualizations, or images directly.

*   **Artifact Referencing:** However, when a Persona generates a rich artifact (like a `viz.html` file stored locally via the Generated Artifact Handling mechanism described above), the console adapter **can present a reference** to it (e.g., printing the local file path or a `file://` hyperlink) allowing the developer to open and view it manually.
*   **Simulation Focus:** The primary goal is to test the Persona's ability to *request* and *generate* the rich artifact payload, not the final rendering within the console itself.

## Limitations

Presentation capabilities are limited to standard console text output.

*   **Limitations:** No support for interactive elements, complex formatting (beyond basic ANSI colors/styles), or embedded visualizations like those described in [ARCHITECTURE_PROCESSING_DATAVIZ.md](../Processing/ARCHITECTURE_PROCESSING_DATAVIZ.md).
